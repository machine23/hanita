# Hanita

## Учебный мессенджер Hanita
Реализация в виде простого клиент-серверного взаимодействия по протоколу JIM.
* клиент отправляет запрос серверу
* сервер отвечает соответствующим кодом результата

### Функции клиента
* сформировать  presence-сообщение
* отправить сообщение серверу
* получить ответ от сервера
* разобрать сообщение сервера
* параметры командной строки скрипта client.py \<addr\> [\<port\>]
    - addr - ip сервера
    - port - tcp-порт сервера, по умолчанию 7777

### Функции сервера
* принимает сообщение клиента
* формирует ответ клиенту
* отправляет ответ клиенту
* параметры командной строки:
    - -p \<port\> - TCP-порт для работы (по умолчанию использует порт 7777)
    - -a \<addr\> - IP-адрес для прослушивания (по умолчанию слушает все доступные адреса)

### Формат сообщения presence

Поля action и time - обязательны.

```json
{
    "action" : "presence",
    "time" : <unix  timestamp>,
    "type" : "status",
    "user" : {
        "account_name" : "C0deMaver1ck",
        "status" : "Yep,  I  am  here!"
    }
}
```

### Формат ответа сервера
```json
{
    "response": 1xx / 2xx,
    "time": <unix timestamp>,
    "alert": "message (optional for 2xx codes)"
}
```
или
```json
{
    "response": 4xx / 5xx,
    "time": <unix timestamp>,
    "error": "error message (optional)"
}
```
